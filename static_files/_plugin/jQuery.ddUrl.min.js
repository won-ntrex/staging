/**
 * jQuery.ddUrl
 * @version 2.0 (2020-11-30)
 * 
 * @see README.md
 * 
 * @copyright 2012â€“2020 [DD Group]{@link https://DivanDesign.biz }
 */

(function(b){b.ddUrl={current:{},parseQuery:function(a){function g(a,c,d){b.isArray(a[c])?a[c].push(d):a[c]=d}function h(a){var c={};b.each(a,function(a,b){c[a]=b});return c}function k(a,c,d,e){var f=a.shift();f?(c[d]||(c[d]=[]),"]"==f?g(c,d,e):(-1!=f.indexOf("]")&&(f=f.substr(0,f.length-1)),!b.isNumeric(f)&&b.isArray(c[d])&&(c[d]=h(c[d])),k(a,c[d],f,e))):g(c,d,e)}var l={result:{}};if(0<a.length){a=a.split("&");for(var m=0;m<a.length;m++){var e=a[m].split("="),n=e[0];e=e[1]||"";-1==n.indexOf("[")?
g(l.result,n,e):k(n.split("["),l,"result",e)}}return l.result},parsePath:function(a){var g=[];a=a.split("/");for(var h=0;h<a.length;h++){var k=b.trim(a[h]);0!=k.length&&g.push(k)}return g},parse:function(a){"string"!=b.type(a)&&(a=window.location.toString());a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(decodeURI(a));a={full:"",protocol:a[1]||window.location.protocol.replace(":",
""),host:a[6]||"",port:a[7]||"",relative:a[8],path:a[9],queryString:a[12]||"",queryObject:this.parseQuery(a[12]||""),hashString:a[13]||"",hashObject:{},hashPath:[],isInternal:!1};0<a.hashString.length&&("/"==a.hashString.charAt(0)?a.hashPath=this.parsePath(a.hashString):a.hashObject=this.parseQuery(a.hashString));""!=a.host?-1==a.host.search(/\.[^\.]+/)&&(a.relative="/"+a.host+a.relative,a.host=window.location.hostname):a.host=window.location.hostname;a.host==window.location.hostname&&(a.isInternal=
!0);a.full=a.protocol+"://"+a.host+(""!=a.port?":"+a.port:"")+a.relative;return a}};b.ddUrl.current=b.ddUrl.parse();b(function(){(b.ddTools&&b.ddTools.$window||b(window)).on("popstate",function(a){b.ddUrl.current=b.ddUrl.parse()})})})(jQuery);